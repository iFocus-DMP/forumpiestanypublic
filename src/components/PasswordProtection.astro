---
---
<div id="password-overlay" class="fixed inset-0 z-50 bg-cream flex flex-col items-center justify-center p-4">
  <div class="max-w-md w-full bg-white p-8 rounded-lg shadow-xl border border-gold/20 text-center">
    <div class="mb-6">
      <img src="/logoFP.png" alt="Fórum Piešťany" class="h-16 mx-auto mb-4" />
      <h2 class="text-2xl font-bold text-dark font-display">Vstup chránený heslom</h2>
      <p class="text-gray-600 mt-2">Pre pokračovanie prosím zadajte prístupové heslo.</p>
    </div>
    
    <form id="password-form" class="space-y-4">
      <div>
        <input 
          type="password" 
          id="password-input" 
          class="w-full px-4 py-3 rounded-md border border-gray-300 focus:border-gold focus:ring-1 focus:ring-gold outline-none transition-colors"
          placeholder="Zadajte heslo"
          required
        />
        <p id="error-message" class="text-red-500 text-sm mt-2 hidden">Nesprávne heslo. Skúste to znova.</p>
      </div>
      
      <button 
        type="submit" 
        class="w-full bg-black hover:bg-gold text-white font-medium py-3 px-6 rounded-md transition-colors duration-300 transform"
      >
        Vstúpiť
      </button>
    </form>
  </div>
</div>

<script>
  // Configuration
  const PASSWORD_KEY = 'fp_site_access';
  const CORRECT_PASSWORD = '2026Piestany'; // Change this to your desired password
  
  // Elements
  const overlay = document.getElementById('password-overlay');
  const form = document.getElementById('password-form');
  const input = document.getElementById('password-input') as HTMLInputElement;
  const errorMsg = document.getElementById('error-message');
  
  // Check if authorized
  function checkAuth() {
    const isAuthorized = localStorage.getItem(PASSWORD_KEY) === 'true';
    if (isAuthorized && overlay) {
      overlay.style.display = 'none';
      document.body.style.overflow = 'auto'; // Restore scrolling
    } else {
      if (overlay) document.body.style.overflow = 'hidden'; // Prevent scrolling while locked
    }
  }
  
  // Initial check
  checkAuth();
  
  // Handle submission
  if (form) {
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      
      const enteredPassword = input?.value;
      
      if (enteredPassword === CORRECT_PASSWORD) {
        localStorage.setItem(PASSWORD_KEY, 'true');
        checkAuth();
        if (errorMsg) errorMsg.classList.add('hidden');
      } else {
        if (errorMsg) errorMsg.classList.remove('hidden');
        if (input) {
          input.value = '';
          input.focus();
        }
      }
    });
  }
</script>
